@* Reusable Lucide Icon component - renders SVG icons by name *@

@if (!string.IsNullOrEmpty(Name) && Icons.ContainsKey(Name.ToLower()))
{
    @((MarkupString)GetSvg())
}
else if (!string.IsNullOrEmpty(Name))
{
    <span class="@Class" title="Icon not found: @Name">?</span>
}

@code {
    [Parameter] public string Name { get; set; } = "";
    [Parameter] public string Class { get; set; } = "w-5 h-5";
    [Parameter] public string StrokeWidth { get; set; } = "2";

    private string GetSvg()
    {
        var iconPath = Icons[Name.ToLower()];
        return $@"<svg xmlns=""http://www.w3.org/2000/svg"" class=""{Class}"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""{StrokeWidth}"" stroke-linecap=""round"" stroke-linejoin=""round"">{iconPath}</svg>";
    }

    /// <summary>
    /// Gets the list of available icon names for use by other components like IconPicker.
    /// </summary>
    public static IReadOnlyCollection<string> AvailableIcons => Icons.Keys;

    /// <summary>
    /// Checks if an icon exists by name.
    /// </summary>
    public static bool HasIcon(string name) => !string.IsNullOrEmpty(name) && Icons.ContainsKey(name.ToLower());

    /// <summary>
    /// Renders an icon as an SVG string. Useful for cases where component usage isn't possible.
    /// </summary>
    public static string RenderSvg(string name, string cssClass = "w-5 h-5", string strokeWidth = "2")
    {
        if (string.IsNullOrEmpty(name) || !Icons.TryGetValue(name.ToLower(), out var iconPath))
            return "";
        return $@"<svg xmlns=""http://www.w3.org/2000/svg"" class=""{cssClass}"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""{strokeWidth}"" stroke-linecap=""round"" stroke-linejoin=""round"">{iconPath}</svg>";
    }

    // Lucide icon paths - food and category related icons
    private static readonly Dictionary<string, string> Icons = new(StringComparer.OrdinalIgnoreCase)
    {
        // Food icons
        ["soup"] = @"<path d=""M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z""/><path d=""M7 21h10""/><path d=""M19.5 12 22 6""/><path d=""M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62""/><path d=""M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62""/><path d=""M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62""/>",

        ["salad"] = @"<path d=""M7 21h10""/><path d=""M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z""/><path d=""M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1""/><path d=""m13 12 4-4""/><path d=""M10.9 7.25A2.4 2.4 0 0 0 5 8.8c.28.45.74.75 1.27.85""/>",

        ["utensils"] = @"<path d=""M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2""/><path d=""M7 2v20""/><path d=""M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7""/>",

        ["cake"] = @"<path d=""M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8""/><path d=""M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1""/><path d=""M2 21h20""/><path d=""M7 8v3""/><path d=""M12 8v3""/><path d=""M17 8v3""/><path d=""M7 4h0.01""/><path d=""M12 4h0.01""/><path d=""M17 4h0.01""/>",

        ["cup-soda"] = @"<path d=""m6 8 1.75 12.28a2 2 0 0 0 2 1.72h4.54a2 2 0 0 0 2-1.72L18 8""/><path d=""M5 8h14""/><path d=""M7 15a6.47 6.47 0 0 1 5 0 6.47 6.47 0 0 0 5 0""/><path d=""m12 8 1-6h2""/>",

        ["coffee"] = @"<path d=""M10 2v2""/><path d=""M14 2v2""/><path d=""M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1""/><path d=""M6 2v2""/>",

        ["beer"] = @"<path d=""M17 11h1a3 3 0 0 1 0 6h-1""/><path d=""M9 12v6""/><path d=""M13 12v6""/><path d=""M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z""/><path d=""M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8""/>",

        ["wine"] = @"<path d=""M8 22h8""/><path d=""M7 10h10""/><path d=""M12 15v7""/><path d=""M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z""/>",

        ["pizza"] = @"<path d=""M15 11h.01""/><path d=""M11 15h.01""/><path d=""M16 16h.01""/><path d=""m2 16 20 6-6-20A20 20 0 0 0 2 16""/><path d=""M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4""/>",

        ["sandwich"] = @"<path d=""M3 11v3a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-3""/><path d=""M12 19H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-3.83""/><path d=""m3 11 7.77-6.04a2 2 0 0 1 2.46 0L21 11H3Z""/><path d=""M10.97 19.13 12 21l2.41-3.02""/><path d=""M19.57 10.83 19 10""/>",

        ["apple"] = @"<path d=""M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z""/><path d=""M10 2c1 .5 2 2 2 5""/>",

        ["cherry"] = @"<path d=""M2 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z""/><path d=""M12 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z""/><path d=""M7 14c3.22-2.91 4.29-8.75 5-12 1.66 2.38 4.94 9 5 12""/><path d=""M22 9c-4.29 0-7.14-2.33-10-7 5.71 0 10 4.67 10 7Z""/>",

        ["egg"] = @"<path d=""M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10Z""/>",

        ["egg-fried"] = @"<circle cx=""11.5"" cy=""12.5"" r=""3.5""/><path d=""M3 8c0-3.5 2.5-6 6.5-6 5 0 4.83 3 7.5 5s5 2 5 6c0 4.5-2.5 6.5-7 6.5-2.5 0-2.5 2.5-6 2.5s-7-2-7-5.5c0-3 1.5-3 1.5-5C3.5 10 3 9 3 8Z""/>",

        ["fish"] = @"<path d=""M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z""/><path d=""M18 12v.5""/><path d=""M16 17.93a9.77 9.77 0 0 1 0-11.86""/><path d=""M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33""/><path d=""M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4""/><path d=""m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98""/>",

        ["beef"] = @"<circle cx=""12.5"" cy=""8.5"" r=""2.5""/><path d=""M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z""/><path d=""m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5""/>",

        ["carrot"] = @"<path d=""M2.27 21.7s9.87-3.5 12.73-6.36a4.5 4.5 0 0 0-6.36-6.37C5.77 11.84 2.27 21.7 2.27 21.7zM8.64 14l-2.05-2.04M15.34 15l-2.46-2.46""/><path d=""M22 9s-1.33-2-3.5-2C16.86 7 15 9 15 9s1.33 2 3.5 2S22 9 22 9z""/><path d=""M15 2s-2 1.33-2 3.5S15 9 15 9s2-1.84 2-3.5C17 3.33 15 2 15 2z""/>",

        ["drumstick"] = @"<path d=""M15.45 15.4c-2.13.65-4.3.32-5.7-1.1-2.29-2.27-1.76-6.5 1.17-9.42 2.93-2.93 7.15-3.46 9.43-1.18 1.41 1.41 1.74 3.57 1.1 5.71-1.4-.51-3.26-.02-4.64 1.36-1.38 1.38-1.87 3.23-1.36 4.63z""/><path d=""m11.25 15.6-2.16 2.16a2.5 2.5 0 1 1-4.56 1.73 2.49 2.49 0 0 1-1.41-4.24 2.5 2.5 0 0 1 3.14-.32l2.16-2.16""/>",

        ["croissant"] = @"<path d=""m4.6 13.11 5.79-3.21c1.89-1.05 4.79 1.78 3.71 3.71l-3.22 5.81C8.8 23.16.79 15.23 4.6 13.11Z""/><path d=""m10.5 9.5-1-2.29C9.2 6.48 8.8 6 8 6H4.5C2.79 6 2 6.5 2 8.5a7.71 7.71 0 0 0 2 4.83""/><path d=""M8 6c0-1.55.24-4-2-4-2 0-2.5 2.17-2.5 4""/><path d=""m14.5 13.5 2.29 1c.73.3 1.21.7 1.21 1.5v3.5c0 1.71-.5 2.5-2.5 2.5a7.71 7.71 0 0 1-4.83-2""/><path d=""M18 16c1.55 0 4-.24 4 2 0 2-2.17 2.5-4 2.5""/>",

        ["cookie"] = @"<path d=""M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5""/><path d=""M8.5 8.5v.01""/><path d=""M16 15.5v.01""/><path d=""M12 12v.01""/><path d=""M11 17v.01""/><path d=""M7 14v.01""/>",

        ["ice-cream-cone"] = @"<path d=""m7 11 4.08 10.35a1 1 0 0 0 1.84 0L17 11""/><path d=""M17 7A5 5 0 0 0 7 7""/><path d=""M17 7a2 2 0 0 1 0 4H7a2 2 0 0 1 0-4""/>",

        ["popcorn"] = @"<path d=""M18 8a2 2 0 0 0 0-4 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0 0 4""/><path d=""M10 22 9 8""/><path d=""m14 22 1-14""/><path d=""M20 8c.5 0 .93.38.99.88L22 14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2l1.01-5.13C3.07 8.38 3.5 8 4 8Z""/><path d=""m6 22 2-14""/><path d=""M18 22 16 8""/>",

        ["milk"] = @"<path d=""M8 2h8""/><path d=""M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2""/><path d=""M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0""/>",

        ["wheat"] = @"<path d=""M2 22 16 8""/><path d=""M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z""/><path d=""M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z""/><path d=""M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z""/><path d=""M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z""/><path d=""M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z""/><path d=""M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z""/><path d=""M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z""/>",

        ["ham"] = @"<path d=""M13.144 21.144A7.274 10.445 45 1 0 2.856 10.856""/><path d=""M13.144 21.144A7.274 4.365 45 0 0 2.856 10.856a7.274 4.365 45 0 0 10.288 10.288""/><path d=""M16.565 10.435 18.6 8.4a2.501 2.501 0 1 0 1.65-4.65 2.5 2.5 0 1 0-4.66 1.66l-2.024 2.025""/><path d=""m8.5 16.5-1-1""/>",

        ["bacon"] = @"<path d=""M10.5 8.5a2.5 2.5 0 1 1 0-5M10.5 21a2.5 2.5 0 0 0 0-5""/><path d=""M14 4a5 5 0 0 1 0 7.5A5 5 0 0 1 14 19""/><path d=""M17 4a2.5 2.5 0 0 1 0 5""/><path d=""M17 17a2.5 2.5 0 0 1 0 5""/><path d=""m20.5 16.5 1 1""/><path d=""m20.5 8.5 1 1""/><path d=""m20.5 3.5 1 1""/><path d=""M6.5 3.5a2.5 2.5 0 0 0 0 5""/><path d=""M6.5 16.5a2.5 2.5 0 0 0 0 5""/><path d=""m2.5 8.5 1 1""/><path d=""m2.5 16.5 1 1""/><path d=""m2.5 3.5 1 1""/>",

        ["leaf"] = @"<path d=""M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z""/><path d=""M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12""/>",

        ["flame"] = @"<path d=""M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z""/>",

        ["snowflake"] = @"<line x1=""2"" x2=""22"" y1=""12"" y2=""12""/><line x1=""12"" x2=""12"" y1=""2"" y2=""22""/><path d=""m20 16-4-4 4-4""/><path d=""m4 8 4 4-4 4""/><path d=""m16 4-4 4-4-4""/><path d=""m8 20 4-4 4 4""/>",

        // General icons
        ["plus"] = @"<path d=""M5 12h14""/><path d=""M12 5v14""/>",
        ["minus"] = @"<path d=""M5 12h14""/>",
        ["x"] = @"<path d=""M18 6 6 18""/><path d=""m6 6 12 12""/>",
        ["check"] = @"<path d=""M20 6 9 17l-5-5""/>",
        ["search"] = @"<circle cx=""11"" cy=""11"" r=""8""/><path d=""m21 21-4.3-4.3""/>",
        ["menu"] = @"<line x1=""4"" x2=""20"" y1=""12"" y2=""12""/><line x1=""4"" x2=""20"" y1=""6"" y2=""6""/><line x1=""4"" x2=""20"" y1=""18"" y2=""18""/>",
        ["grip-vertical"] = @"<circle cx=""9"" cy=""12"" r=""1""/><circle cx=""9"" cy=""5"" r=""1""/><circle cx=""9"" cy=""19"" r=""1""/><circle cx=""15"" cy=""12"" r=""1""/><circle cx=""15"" cy=""5"" r=""1""/><circle cx=""15"" cy=""19"" r=""1""/>"
    };
}